{"ast":null,"code":"import { Loading } from './../../models/loading.model';\nimport { finalize } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@core/services/util.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@shared/services/userService.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../modal-user/modal-user.component\";\nimport * as i6 from \"../loadings/loading-profile/loading-profile.component\";\nconst _c0 = [\"modal\"];\n\nfunction CardUserProfileComponent_ng_container_1_i_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"i\", 16);\n    i0.ɵɵlistener(\"click\", function CardUserProfileComponent_ng_container_1_i_11_Template_i_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return ctx_r6.openModal(ctx_r6.user == null ? null : ctx_r6.user.id);\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CardUserProfileComponent_ng_container_1_li_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelement(1, \"i\");\n    i0.ɵɵelementStart(2, \"div\", 17);\n    i0.ɵɵelementStart(3, \"div\", 18);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 19);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r8 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMap(item_r8.icon);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", item_r8.title, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r8.subtitle, \" \");\n  }\n}\n\nfunction CardUserProfileComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 5);\n    i0.ɵɵelement(2, \"div\", 6);\n    i0.ɵɵelementStart(3, \"div\", 7);\n    i0.ɵɵelement(4, \"i\", 8);\n    i0.ɵɵelement(5, \"img\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 10);\n    i0.ɵɵelementStart(7, \"span\", 11);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"span\", 12);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, CardUserProfileComponent_ng_container_1_i_11_Template, 1, 0, \"i\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 14);\n    i0.ɵɵelement(13, \"hr\");\n    i0.ɵɵelementStart(14, \"ul\");\n    i0.ɵɵtemplate(15, CardUserProfileComponent_ng_container_1_li_15_Template, 7, 5, \"li\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"src\", ctx_r0.user == null ? null : ctx_r0.user.picture, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", ctx_r0.user == null ? null : ctx_r0.user.firstName, \" \", ctx_r0.user == null ? null : ctx_r0.user.lastName, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.user == null ? null : ctx_r0.user.email, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.owner());\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.list);\n  }\n}\n\nfunction CardUserProfileComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loading-profile\");\n  }\n}\n\nexport let CardUserProfileComponent = /*#__PURE__*/(() => {\n  class CardUserProfileComponent {\n    constructor(utilService, router, userService) {\n      this.utilService = utilService;\n      this.router = router;\n      this.userService = userService;\n      this.load = new Loading();\n\n      this.openModal = id => this.modal.open(id);\n\n      this.owner = () => {\n        var _a;\n\n        const user = this.utilService.getUserSessionStorage();\n        return this.utilService.owner(user === null || user === void 0 ? void 0 : user.id, (_a = this.user) === null || _a === void 0 ? void 0 : _a.id);\n      };\n    }\n\n    ngOnInit() {\n      this.router.params.subscribe(res => Boolean(res.userId) && this.userById(res.userId));\n    }\n\n    userById(id) {\n      this.userService.findById(id, this.load).pipe(finalize(() => this.setList())).subscribe(res => this.user = res);\n    }\n\n    setList() {\n      var _a, _b, _c, _d, _e, _f;\n\n      this.list = [{\n        icon: 'fas fa-map-marker-alt',\n        title: 'Endereço',\n        subtitle: `${(_b = (_a = this.user) === null || _a === void 0 ? void 0 : _a.location) === null || _b === void 0 ? void 0 : _b.city}, ${(_d = (_c = this.user) === null || _c === void 0 ? void 0 : _c.location) === null || _d === void 0 ? void 0 : _d.state}`\n      }, {\n        icon: 'fas fa-phone',\n        title: 'Telefone',\n        subtitle: (_e = this.user) === null || _e === void 0 ? void 0 : _e.phone\n      }, {\n        icon: 'fas fa-venus-mars',\n        title: 'Gênero',\n        subtitle: (_f = this.user) === null || _f === void 0 ? void 0 : _f.gender\n      }];\n    }\n\n  }\n\n  CardUserProfileComponent.ɵfac = function CardUserProfileComponent_Factory(t) {\n    return new (t || CardUserProfileComponent)(i0.ɵɵdirectiveInject(i1.UtilService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.UserServiceService));\n  };\n\n  CardUserProfileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CardUserProfileComponent,\n    selectors: [[\"app-card-user-profile\"]],\n    viewQuery: function CardUserProfileComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.modal = _t.first);\n      }\n    },\n    decls: 6,\n    vars: 2,\n    consts: [[1, \"card\"], [4, \"ngIf\", \"ngIfElse\"], [3, \"updateCardProfile\"], [\"modal\", \"\"], [\"loading\", \"\"], [1, \"card-top\"], [1, \"card-top-banner\"], [1, \"card-top-img\"], [\"title\", \"Alterar foto\", 1, \"fas\", \"fa-camera\"], [\"alt\", \"Picture\", 3, \"src\"], [1, \"card-top-dados\"], [1, \"nome\"], [1, \"cargo\"], [\"class\", \"fas fa-pencil-alt icon-edit\", \"title\", \"Editar perfil\", 3, \"click\", 4, \"ngIf\"], [1, \"card-content\"], [4, \"ngFor\", \"ngForOf\"], [\"title\", \"Editar perfil\", 1, \"fas\", \"fa-pencil-alt\", \"icon-edit\", 3, \"click\"], [1, \"text\"], [1, \"text-title\"], [1, \"text-subtitle\"]],\n    template: function CardUserProfileComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, CardUserProfileComponent_ng_container_1_Template, 16, 6, \"ng-container\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"app-modal-user\", 2, 3);\n        i0.ɵɵlistener(\"updateCardProfile\", function CardUserProfileComponent_Template_app_modal_user_updateCardProfile_2_listener($event) {\n          return ctx.userById($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(4, CardUserProfileComponent_ng_template_4_Template, 1, 0, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n      }\n\n      if (rf & 2) {\n        const _r2 = i0.ɵɵreference(5);\n\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.load.load)(\"ngIfElse\", _r2);\n      }\n    },\n    directives: [i4.NgIf, i5.ModalUserComponent, i4.NgForOf, i6.LoadingProfileComponent],\n    styles: [\".card[_ngcontent-%COMP%]{height:420px;position:relative}.card[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:8px 0 7px!important}.card-top[_ngcontent-%COMP%]{height:163px;width:100%;position:relative}.card-top[_ngcontent-%COMP%]   .icon-edit[_ngcontent-%COMP%]{position:absolute;top:90px;right:15px;border-radius:50%;padding:10px;transition:.4s}.card-top[_ngcontent-%COMP%]   .icon-edit[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#ccc}.card-top-banner[_ngcontent-%COMP%]{position:absolute;width:100%;height:79px;top:0;left:0;background-color:#4caf50;border-radius:.8rem .8rem 0 0}.card-top-img[_ngcontent-%COMP%]{position:relative;top:25px;left:0;width:100%;height:120px}.card-top-img[_ngcontent-%COMP%]   .fa-camera[_ngcontent-%COMP%]{position:absolute;top:0;left:100px;border-radius:50%;padding:7px;transition:.3s;z-index:600;color:#fff;background-color:#8bc34a;border:.5px solid #fff}.card-top-img[_ngcontent-%COMP%]   .fa-camera[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#ccc}.card-top-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;left:15px;width:120px;height:120px;border-radius:50%;border:5px solid #fff}.card-top-dados[_ngcontent-%COMP%]{position:absolute;top:160px;left:15px;width:auto;height:auto;text-align:left;display:flex;flex-direction:column}.card-top-dados[_ngcontent-%COMP%]   .nome[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#515151}.card-content[_ngcontent-%COMP%]{position:relative;padding:0 15px;top:50px;left:0;width:100%}.card-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0}.card-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center}.card-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){padding-bottom:7px;margin-bottom:7px;border-bottom:1px solid #ccc}.card-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .text-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600}.card-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .text-subtitle[_ngcontent-%COMP%]{font-size:.8rem}.card-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border:1px solid #fff;color:#fff;background-color:#4caf50;border-radius:50%;width:35px;height:35px;margin-right:.8rem}\"]\n  });\n  return CardUserProfileComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}